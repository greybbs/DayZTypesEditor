## DayZ Types Editor

Веб-приложение для удобной настройки и валидации файла **types.xml** в DayZ (спавн лута).

### Основные возможности

- **Загрузка / сохранение**
  - Загрузка пользовательского `types.xml` с диска.
  - **Скачать types.xml** обратно после правок.
  - **Добавить из XML** — импорт дополнительных типов без перетирания существующих.

- **Работа со списком типов**
  - Таблица всех типов с сортировкой по любому столбцу.
  - Поиск по `type name` и фильтр по `category`.
  - Контекстное меню для строк (ПКМ): убрать из спавна, удалить, открыть массовое изменение для выделенных.

- **Редактирование одного типа**
  - Модальное окно редактирования с разбивкой по блокам:
    - **Основные**: `nominal`, `lifetime`, `restock`, `min`, `quantmin`, `quantmax`, `cost`.
    - **Flags**: набор флагов (`count_in_cargo`, `count_in_hoarder`, `count_in_map`, `count_in_player`, `crafted`, `deloot`).
    - **category**: выбор через плитки (`tools`, `containers`, `clothes`, `lootdispatch`, `food`, `weapons`, `books`, `explosives`).
    - **tag**: плитки (`floor`, `shelves`, `ground`).
    - **usage**: плитки всех стандартных `usage` из DayZ (Military, Police, …).
    - **value**: плитки тиров (`Tier1–4`, `Unique`).
  - Кнопка **Добавить предмет** — создание нового типа по `Config-Type` или просто по имени класса.

- **Массовое изменение**
  - Отмечаете в таблице несколько типов и нажимаете **Массовое изменение**.
  - Интерфейс полностью повторяет окно редактирования (кроме `type name`), но с чекбоксами «Применить» для каждого блока/параметра.
  - Позволяет единым действием менять:
    - числовые поля (nominal, lifetime, restock, min, quantmin, quantmax, cost);
    - флаги;
    - category, tag, usage, value.

- **Массовое добавление предметов**
  - Кнопка **Массовое добавление**:
    - загрузка `.txt` с `Config-Type: ...`,
    - или вставка списка `class name` по строкам.
  - Настройка общих параметров спавна для добавляемых типов, обработка дубликатов (оставить / заменить).

- **Инструменты**
  - Выпадающее меню **Инструменты**:
    - **Добавить из XML** — импорт типов из другого файла.
    - **Валидация** — проверка корректности всех типов (числа, флаги, связи между полями).
    - **Поиск дубликатов** по `type name` с удобным интерфейсом выбора, что оставить.
    - **Сравнить с Vanilla** — загрузка vanilla `types.xml` и сравнение:
      - строки, которых **нет в vanilla**, подсвечиваются синим;
      - строки, которые **отличаются от vanilla**, — жёлтым;
      - при наведении курсора показывается, какие поля отличаются.

- **UX мелочи**
  - Плавающая панель выделения (bulk‑бар) с количеством выбранных строк и кнопками массовых действий.
  - Кнопка «прокрутить вниз/вверх».
  - Кнопка **Discord** с ссылкой на сервер `TTL MODS` (`https://discord.gg/xhQhcSNwPf`).
  - Футер `TTL MODS 2026` по центру.

### Запуск

- Открыть `index.html` в любом современном браузере (двойной клик по файлу или через локальный HTTP‑сервер).
- Рекомендуется Chrome/Edge/Firefox последней версии.

Для больших файлов `types.xml` разбор может занять несколько секунд — в этот момент отображаются уведомления (toast) о статусе загрузки/валидации.

### Формат и валидация types.xml

- Корневой элемент: `<types>`.
- Каждый тип: `<type name="...">` с полями:
  - `nominal`, `lifetime`, `restock`, `min`, `quantmin`, `quantmax`, `cost`;
  - `flags` с атрибутами: `count_in_cargo`, `count_in_hoarder`, `count_in_map`, `count_in_player`, `crafted`, `deloot`;
  - `category`, опционально `tag`, `usage`, `value`.

Валидация проверяет:

- корректность чисел и их диапазоны;
- что флаги — только `0` или `1`;
- что `quantmax ≥ quantmin`, если оба не равны `-1`;
- наличие обязательных полей у каждого типа.
